/*! For license information please see 207.814bee.js.LICENSE.txt */
"use strict";(self.webpackChunkunique=self.webpackChunkunique||[]).push([[207],{61445:(e,t,n)=>{n.d(t,{A:()=>v});var r,o=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],i=function(e){return-1!==o.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},a=function(e,t,n){var r=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";n.setContent(r||(t.initialized?t.cache:o)),t.$watch("value",(function(e,r){n&&"string"==typeof e&&e!==r&&e!==n.getContent({format:t.$props.outputFormat})&&n.setContent(e)})),t.$listeners.input&&function(e,t){var n=e.$props.modelEvents?e.$props.modelEvents:null,r=Array.isArray(n)?n.join(" "):n;t.on(r||"change input undo redo",(function(){e.$emit("input",t.getContent({format:e.$props.outputFormat}))}))}(t,n),function(e,t,n){Object.keys(t).filter(i).forEach((function(r){var o=t[r];"function"==typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),(function(e){return o(e,n)})))}))}(e,t.$listeners,n),t.initialized=!0},s=0,l=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++s+String(t)},c=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},u=function(){return{listeners:[],scriptId:l("tiny-script"),scriptLoaded:!1}},p=(r=u(),{load:function(e,t,n){r.scriptLoaded?n():(r.listeners.push(n),e.getElementById(r.scriptId)||function(e,t,n,r){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),t.head&&t.head.appendChild(o)}(r.scriptId,e,t,(function(){r.listeners.forEach((function(e){return e()})),r.scriptLoaded=!0})))},reinitialize:function(){r=u()}}),f=function(){var e="undefined"!=typeof window?window:n.g;return e&&e.tinymce?e.tinymce:null},m={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d.apply(this,arguments)},h=function(e){return function(){var t,n,r,o=d(d({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:(t=e.$props.init&&e.$props.init.plugins,n=e.$props.plugins,c(t).concat(c(n))),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",(function(n){return a(n,e,t)})),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});null!==(r=e.element)&&"textarea"===r.tagName.toLowerCase()&&(e.element.style.visibility="",e.element.style.display=""),f().init(o)}};const v={props:m,created:function(){this.elementId=this.$props.id||l("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==f())h(this)();else if(this.element&&this.element.ownerDocument){var e=this.$props.cloudChannel?this.$props.cloudChannel:"5",t=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=null==this.$props.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":this.$props.tinymceScriptSrc;p.load(this.element.ownerDocument,n,h(this))}},beforeDestroy:function(){null!==f()&&f().remove(this.editor)},deactivated:function(){var e;this.inlineEditor||(this.cache=this.editor.getContent(),null===(e=f())||void 0===e||e.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&h(this)()},render:function(e){return this.inlineEditor?function(e,t,n){return e(n||"div",{attrs:{id:t}})}(e,this.elementId,this.$props.tagName):function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})}(e,this.elementId)}}},49334:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{I:()=>a});var a=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}},(t=[{key:"has",value:function(e){return this.errors.hasOwnProperty(e)}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"get",value:function(e){if(this.errors[e])return this.errors[e][0]}},{key:"getFlash",value:function(e){if(this.errors[e])return this.errors[e]}},{key:"record",value:function(e){this.errors=e}},{key:"clear",value:function(e){e?this.has(e)&&delete this.errors[e]:this.errors={}}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},20258:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,".tox-tinymce-aux{z-index:9000!important}","",{version:3,sources:["webpack://./resources/admin/js/views/articles/components/form.vue"],names:[],mappings:"AAkJA,iBACA,sBACA",sourcesContent:['<template>\n    <el-card class="box-card">\n    <el-form :model="form" label-position="top">\n        <el-tabs type="card" v-model="activeTab">\n            <el-tab-pane label="Основная информация" name="main">\n                <div class="d-flex">\n                    <el-form-item prop="logo" label="Превью" style="margin-right: 20px">\n                        <el-upload\n                            action=""\n                            v-model="form.preview"\n                            class="avatar-uploader"\n                            :auto-upload="false"\n                            :show-file-list="false"\n                            :on-change="uploadImage"\n                        >\n                            <figure class="avatar" v-if="form.preview">\n                                <img  :src="form.preview" >\n                            </figure>\n                            <i v-else class="el-icon-plus avatar-uploader-icon"></i>\n                        </el-upload>\n                    </el-form-item>\n                    <div style="flex:1">\n                        <el-form-item prop="title" label="Название" :error="errors.get(\'title\')">\n                            <el-input v-model="form.title"/>\n                        </el-form-item>\n                        <el-form-item prop="slug"\n                                      label="Псевдоним (Если оставить поле пустым будет сгенерировано на основе названия статьи)"\n                                      :error="errors.get(\'slug\')">\n                            <el-input v-model="form.slug"/>\n                        </el-form-item>\n                        <div class="row">\n                            <el-form-item class="col-md-6"\n                                          prop="date" label="Дата"\n                                          :error="errors.get(\'date\')">\n                                <el-date-picker\n                                    v-model="form.date"\n                                    type="date"\n                                    format="dd-MM-yyyy"\n                                    value-format="yy-MM-dd"\n                                    placeholder="Выберите дату">\n                                </el-date-picker>\n                            </el-form-item>\n                            <el-form-item label="Опубликован" class="col-md-5"  prop="published">\n                                <el-checkbox v-model="form.published">Опубликован</el-checkbox>\n                            </el-form-item>\n                        </div>\n\n                        <el-form-item prop="text" label="Текст">\n                           <tinymce v-model="form.content.text"/>\n                        </el-form-item>\n\n                    </div>\n                </div>\n            </el-tab-pane>\n            <el-tab-pane label="Настройки и SEO" name="config">\n                <Seo :form = "form.seo" v-if="form.seo"></Seo>\n            </el-tab-pane>\n            </el-tabs>\n            <el-button type="success" @click.prevent="submitForm">Сохранить</el-button>\n        </el-form>\n    </el-card>\n</template>\n<script>\n\nimport { Errors } from  \'@/common/js/services/errors.js\';\nimport Seo from \'@/admin/js/components/seo/seo\';\nimport Tinymce from \'@/admin/js/components/Tinymce\';\n    export default {\n        components: {\n            \'Seo\':Seo,\n            Tinymce\n        },\n        props: {\n            saveMsg: {\n                default: \'Статья сохранена\'\n            },\n            form: {\n                type:Object,\n            },\n            formAction: {\n                type:Object\n            },\n        },\n        data() {\n            return {\n                activeTab:\'main\',\n                errors: new Errors(),\n            }\n        },\n        methods: {\n            submitForm() {\n                axios({\n                    method: this.formAction.method ,\n                    url: this.formAction.url,\n                    data: this.form\n                }).then((response) => {\n                    this.$message({\n                        message: this.saveMsg,\n                        type: \'success\'\n                    });\n                    this.$emit(\'submit\', response.data);\n                })\n                    .catch((error) => {\n                        this.errors.record(error.response.data.errors);\n                    })\n                ;\n\n            },\n            uploadImage(file){\n                let cond = this.beforeImageUpload(file.raw);\n                this.form.imageName = file.raw.name;\n                console.log(cond);\n                if(cond){\n                    this.createImage(file);\n                }\n            },\n\n            beforeImageUpload(file) {\n                const isJPG = file.type === \'image/jpeg\';\n                const isPNG = file.type === \'image/png\';\n                const isLt2M = file.size / 1024 / 1024 < 2;\n\n                if (!isJPG && !isPNG) {\n                    this.$message.error(\'Картинка должна быть в формате jpeg или png\');\n                }\n                if (!isLt2M) {\n                    this.$message.error(\'Размер не может превышать 2МБ\');\n                }\n                return (isJPG || isPNG) && isLt2M;\n            },\n\n            createImage(file) {\n                let reader = new FileReader();\n                let vm = this;\n                reader.onload = (e) => {\n                    vm.form.preview = e.target.result;\n                };\n                reader.readAsDataURL(file.raw);\n            },\n        },\n        mounted() {\n\n        }\n    }\n<\/script>\n<style>\n.tox-tinymce-aux {\n    z-index: 9000 !important;\n}\n</style>\n'],sourceRoot:""}]);const s=a},10747:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(61445);const o={height:600,plugins:"lists link image table code help wordcount template",toolbar:"undo redo | image link | formatselect | fontsizeselect | fontselect | lineheight | styles | bold italic alignleft aligncenter alignright alignjustify | bullist numlist outdent indent table forecolor backcolor  template",fontsize_formats:"8px 10px 12px 14px 16px 18px 24px 36px 48px",image_title:!0,automatic_uploads:!0,file_picker_types:"image",file_picker_callback:function(e,t,n){var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept","image/*"),r.onchange=function(){var t=this.files[0],n=new FileReader;n.onload=function(){var r="blobid"+(new Date).getTime(),o=tinymce.activeEditor.editorUpload.blobCache,i=n.result.split(",")[1],a=o.create(r,t,i);o.add(a),e(a.blobUri(),{title:t.name})},n.readAsDataURL(t)},r.click()},language:"ru",content_css:"/assets/admin/css/tinymce.css",font_formats:"Geometria=geometria, sans-serif;  Andale Mono=andale mono,times; Arial=arial,helvetica,sans-serif; Arial Black=arial black,avant garde; Book Antiqua=book antiqua,palatino; Comic Sans MS=comic sans ms,sans-serif; Courier New=courier new,courier;Helvetica=helvetica; Impact=impact,chicago; Oswald=oswald; Symbol=symbol; Tahoma=tahoma,arial,helvetica,sans-serif; Terminal=terminal,monaco; Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva; Verdana=verdana,geneva; Webdings=webdings; Wingdings=wingdings,zapf dingbats",templates:[{title:"Блок баннер",description:"",content:'<div class="container">\n   <section class="mp-banner">\n       <figure class="mp-banner__mobile-img">\n           <img src="/assets/site/images/mp/mp-banner-mobile.png">\n       </figure>\n       <div class="mp-banner__content">\n           <h3 class="mp-banner__title">\n               Проверить оригинальность текста\n\n           </h3>\n           <p class="mp-banner__text">\n               Бесплатные проверка уникальности и платные тарифы\n           </p>\n       </div>\n       <div class="mp-banner__action">\n           <a href="/#check_unique\'" class="btn button button--white">\n               Проверить уникальность\n           </a>\n       </div>\n\n   </section>\n</div>'},{title:"Кнопка проверить уникальность",description:"",content:'<a href="/#check_unique\'" class="btn button ">\n               Проверить уникальность\n           </a>'}],table_background_color_map:[{title:"Gray",value:"F0F1F6"},{title:"Orange",value:"FF9902"},{title:"Blue",value:"366AF3"}],color_map:["F0F1F6","Gray","FF9902","Orange","366AF3","Blue"]},i={props:{value:{type:String,default:""}},watch:{text:function(){this.$emit("input",this.text)}},data:function(){return{text:this.value,tinySettings:o}},components:{Editor:r.A}};const a=(0,n(14486).A)(i,(function(){var e=this;return(0,e._self._c)("Editor",{attrs:{"api-key":"n5vevbezoz59y0xm5lm9351k04wpcdlod46tt4h2ilw0x2er",init:e.tinySettings},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})}),[],!1,null,null,null).exports},18393:(e,t,n)=>{n.d(t,{A:()=>o});const r={props:["form"],data:function(){return{}}};const o=(0,n(14486).A)(r,(function(){var e=this,t=e._self._c;return t("div",[t("el-form",{attrs:{model:e.form,"label-position":"top"}},[t("el-form-item",{attrs:{label:"Title"}},[t("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Description"}},[t("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Keywords"}},[t("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.form.keywords,callback:function(t){e.$set(e.form,"keywords",t)},expression:"form.keywords"}})],1)],1)],1)}),[],!1,null,null,null).exports},51207:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(){o=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new F(r||[]);return a(i,"_invoke",{value:L(e,n,s)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var d="suspendedStart",h="suspendedYield",v="executing",y="completed",g={};function b(){}function w(){}function x(){}var k={};p(k,l,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(P([])));_&&_!==n&&i.call(_,l)&&(k=_);var A=x.prototype=b.prototype=Object.create(k);function $(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,a,s,l){var c=m(e[o],e,a);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==r(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(p).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function L(t,n,r){var o=d;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var c=m(t,n,r);if("normal"===c.type){if(o=r.done?y:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=y,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=m(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=x,a(A,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=p(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,p(e,u,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},$(E.prototype),p(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},$(A),p(A,u,"Generator"),p(A,l,(function(){return this})),p(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function i(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}const a={props:{id:{}},components:{ArticleForm:n(95246).A},data:function(){return{loaded:!1,form:{},formAction:{url:"/api/admin/article/"+this.id,method:"put"}}},methods:{submit:function(e){this.$emit("update",e)},getFormData:function(){var e=this;return this.$root.isLoading=!0,axios.get("/api/admin/article/"+this.id).then((function(t){e.form=t.data,e.loaded=!0,e.$root.isLoading=!1}))}},mounted:function(){var e,t=this;return(e=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFormData();case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))})()}};const s=(0,n(14486).A)(a,(function(){var e=this,t=e._self._c;return t("section",[e.loaded?t("article-form",{attrs:{form:e.form,formAction:e.formAction},on:{submit:e.submit}}):e._e()],1)}),[],!1,null,null,null).exports},95246:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(49334),o=n(18393),i=n(10747);const a={components:{Seo:o.A,Tinymce:i.A},props:{saveMsg:{default:"Статья сохранена"},form:{type:Object},formAction:{type:Object}},data:function(){return{activeTab:"main",errors:new r.I}},methods:{submitForm:function(){var e=this;axios({method:this.formAction.method,url:this.formAction.url,data:this.form}).then((function(t){e.$message({message:e.saveMsg,type:"success"}),e.$emit("submit",t.data)})).catch((function(t){e.errors.record(t.response.data.errors)}))},uploadImage:function(e){var t=this.beforeImageUpload(e.raw);this.form.imageName=e.raw.name,console.log(t),t&&this.createImage(e)},beforeImageUpload:function(e){var t="image/jpeg"===e.type,n="image/png"===e.type,r=e.size/1024/1024<2;return t||n||this.$message.error("Картинка должна быть в формате jpeg или png"),r||this.$message.error("Размер не может превышать 2МБ"),(t||n)&&r},createImage:function(e){var t=new FileReader,n=this;t.onload=function(e){n.form.preview=e.target.result},t.readAsDataURL(e.raw)}},mounted:function(){}};var s=n(85072),l=n.n(s),c=n(20258),u={insert:"head",singleton:!1};l()(c.A,u);c.A.locals;const p=(0,n(14486).A)(a,(function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-form",{attrs:{model:e.form,"label-position":"top"}},[t("el-tabs",{attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"Основная информация",name:"main"}},[t("div",{staticClass:"d-flex"},[t("el-form-item",{staticStyle:{"margin-right":"20px"},attrs:{prop:"logo",label:"Превью"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","auto-upload":!1,"show-file-list":!1,"on-change":e.uploadImage},model:{value:e.form.preview,callback:function(t){e.$set(e.form,"preview",t)},expression:"form.preview"}},[e.form.preview?t("figure",{staticClass:"avatar"},[t("img",{attrs:{src:e.form.preview}})]):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("div",{staticStyle:{flex:"1"}},[t("el-form-item",{attrs:{prop:"title",label:"Название",error:e.errors.get("title")}},[t("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"slug",label:"Псевдоним (Если оставить поле пустым будет сгенерировано на основе названия статьи)",error:e.errors.get("slug")}},[t("el-input",{model:{value:e.form.slug,callback:function(t){e.$set(e.form,"slug",t)},expression:"form.slug"}})],1),e._v(" "),t("div",{staticClass:"row"},[t("el-form-item",{staticClass:"col-md-6",attrs:{prop:"date",label:"Дата",error:e.errors.get("date")}},[t("el-date-picker",{attrs:{type:"date",format:"dd-MM-yyyy","value-format":"yy-MM-dd",placeholder:"Выберите дату"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),t("el-form-item",{staticClass:"col-md-5",attrs:{label:"Опубликован",prop:"published"}},[t("el-checkbox",{model:{value:e.form.published,callback:function(t){e.$set(e.form,"published",t)},expression:"form.published"}},[e._v("Опубликован")])],1)],1),e._v(" "),t("el-form-item",{attrs:{prop:"text",label:"Текст"}},[t("tinymce",{model:{value:e.form.content.text,callback:function(t){e.$set(e.form.content,"text",t)},expression:"form.content.text"}})],1)],1)],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"Настройки и SEO",name:"config"}},[e.form.seo?t("Seo",{attrs:{form:e.form.seo}}):e._e()],1)],1),e._v(" "),t("el-button",{attrs:{type:"success"},on:{click:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[e._v("Сохранить")])],1)],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=207.814bee.js.map