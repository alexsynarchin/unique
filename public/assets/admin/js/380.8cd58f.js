"use strict";(self.webpackChunkunique=self.webpackChunkunique||[]).push([[380],{49334:(r,t,o)=>{function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(r)}function s(r,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,n(e.key),e)}}function n(r){var t=function(r,t){if("object"!=e(r)||!r)return r;var o=r[Symbol.toPrimitive];if(void 0!==o){var s=o.call(r,t||"default");if("object"!=e(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==e(t)?t:t+""}o.d(t,{I:()=>a});var a=function(){return r=function r(){!function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.errors={}},(t=[{key:"has",value:function(r){return this.errors.hasOwnProperty(r)}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"get",value:function(r){if(this.errors[r])return this.errors[r][0]}},{key:"getFlash",value:function(r){if(this.errors[r])return this.errors[r]}},{key:"record",value:function(r){this.errors=r}},{key:"clear",value:function(r){r?this.has(r)&&delete this.errors[r]:this.errors={}}}])&&s(r.prototype,t),o&&s(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,t,o}()},88380:(r,t,o)=>{o.r(t),o.d(t,{default:()=>c});var e=o(95353),s=o(49334);function n(r){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n(r)}function a(r,t){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.push.apply(o,e)}return o}function i(r,t,o){return(t=function(r){var t=function(r,t){if("object"!=n(r)||!r)return r;var o=r[Symbol.toPrimitive];if(void 0!==o){var e=o.call(r,t||"default");if("object"!=n(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==n(t)?t:t+""}(t))in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o,r}const l={data:function(){return{showPasswordModal:!1,passwordForm:{password:"",password_confirmation:""},form:{name:"",email:""},errors:new s.I}},computed:function(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){i(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))}))}return r}({},(0,e.L8)(["userId"])),methods:{changePassword:function(){var r=this;axios.post("/api/admin/user/"+this.userId+"/change-password",this.passwordForm).then((function(t){r.$message({message:t.data,type:"success"}),r.showPasswordModal=!1,r.passwordForm.password="",r.passwordForm.password_confirmation=""})).catch((function(t){r.errors.record(t.response.data.errors)}))},onSubmit:function(){var r=this;axios.post("/api/admin/user/"+this.userId+"/update",this.form).then((function(r){console.log(r.data)})).catch((function(t){r.errors.record(t.response.data.errors)}))},getUser:function(){var r=this;axios.get("/api/admin/user/"+this.userId+"/profile").then((function(t){r.form=t.data}))}},mounted:function(){this.getUser()}};const c=(0,o(14486).A)(l,(function(){var r=this,t=r._self._c;return t("section",[t("h1",[r._v("Профиль пользователя")]),r._v(" "),t("el-card",{staticClass:"box-card col-md-6"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[r._v("Основная информация")])]),r._v(" "),t("el-form",{attrs:{type:"",model:r.form,"label-position":"top"}},[t("el-form-item",{attrs:{label:"Имя",error:r.errors.get("name")}},[t("el-input",{model:{value:r.form.name,callback:function(t){r.$set(r.form,"name",t)},expression:"form.name"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"E-mail",error:r.errors.get("email")}},[t("el-input",{model:{value:r.form.email,callback:function(t){r.$set(r.form,"email",t)},expression:"form.email"}})],1),r._v(" "),t("div",{staticClass:"col-md-6",staticStyle:{"margin-bottom":"22px"}},[t("el-button",{attrs:{icon:"el-icon-unlock",type:"primary"},on:{click:function(t){r.showPasswordModal=!0}}},[r._v("Сменить пароль")])],1),r._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:r.onSubmit}},[r._v("Сохранить")])],1)],1),r._v(" "),t("el-dialog",{attrs:{visible:r.showPasswordModal,title:"Сменить пароль"},on:{"update:visible":function(t){r.showPasswordModal=t}}},[t("el-form",{attrs:{model:r.passwordForm,"label-position":"top"}},[t("div",{staticClass:"row"},[t("el-form-item",{staticClass:"col-md-6",attrs:{label:"Новый пароль",error:r.errors.get("password")}},[t("el-input",{attrs:{"show-password":""},model:{value:r.passwordForm.password,callback:function(t){r.$set(r.passwordForm,"password",t)},expression:"passwordForm.password"}})],1),r._v(" "),t("el-form-item",{staticClass:"col-md-6",attrs:{label:"Подтверждение пароля"}},[t("el-input",{attrs:{"show-password":""},model:{value:r.passwordForm.password_confirmation,callback:function(t){r.$set(r.passwordForm,"password_confirmation",t)},expression:"passwordForm.password_confirmation"}})],1)],1)]),r._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){r.showPasswordModal=!1}}},[r._v("Отмена")]),r._v(" "),t("el-button",{attrs:{type:"success"},on:{click:r.changePassword}},[r._v("Сохранить")])],1)],1)],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=380.8cd58f.js.map