"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[842],{3223:(n,e,t)=>{t.d(e,{Z:()=>r});var l=t(94015),a=t.n(l),o=t(23645),s=t.n(o)()(a());s.push([n.id,".el-table .warning-row{background:oldlace}.el-table .success-row{background:#f0f9eb}","",{version:3,sources:["webpack://./resources/admin/js/views/contact-orders/index.vue"],names:[],mappings:"AAuGA,uBACA,kBACA,CAEA,uBACA,kBACA",sourcesContent:['<template>\n    <section>\n        <data-tables :data="contacts" :table-props="tableProps">\n            <el-table-column\n                type="index"\n                label="№"\n            >\n            </el-table-column>\n            <el-table-column\n                prop="order_type"\n                label="Тип заявки"\n            >\n            </el-table-column>\n            <el-table-column\n                label="Имя"\n                prop="name"\n                sortable\n            >\n            </el-table-column>\n            <el-table-column\n                label="Телефон"\n                prop="phone"\n                sortable\n            >\n            </el-table-column>\n            <el-table-column\n                label="Статус"\n                prop="status_title"\n                sortable\n            >\n            </el-table-column>\n            <el-table-column\n                label="Дата"\n                prop="created_at"\n                sortable\n            >\n            </el-table-column>\n            <el-table-column\n                label="Действия"\n            >\n                <template slot-scope="scope">\n                    <el-button\n                        size="mini"\n                        type="primary"\n                        @click="handleShow(scope.row.id)">Подробнее</el-button>\n                </template>\n            </el-table-column>\n        </data-tables>\n        <el-dialog\n            title="Заявка на консультацию"\n            :visible.sync="dialogVisible"\n            width="90%"\n            :before-close="handleClose">\n            <show v-if="dialogVisible" :id="currentId"></show>\n        </el-dialog>\n    </section>\n</template>\n<script>\nimport show from \'./components/show\'\n    export default {\n    components: {\n        show,\n    },\n    data() {\n        return {\n            CanAccess:\'Просмотр "Заявки"\',\n            contacts: [],\n            dialogVisible:false,\n            currentId:null,\n            tableProps: {\n                "row-class-name": function (row) {\n\n                    if (row.row.status === 1) {\n                        return \'warning-row\';\n                    }\n                    return \'\'\n                }\n            },\n        }\n    },\n        methods: {\n        getContacts() {\n            axios.get(\'/api/admin/contact-order\')\n                .then((response) => {\n                    this.contacts = response.data;\n                })\n        },\n            handleShow(id) {\n                this.currentId = id;\n                this.dialogVisible = true;\n            },\n            handleClose() {\n                this.dialogVisible = false;\n                this.currentId = null;\n                this.getContacts();\n            },\n        },\n        mounted() {\n        this.getContacts();\n        }\n    }\n<\/script>\n<style>\n.el-table .warning-row {\n    background: oldlace;\n}\n\n.el-table .success-row {\n    background: #f0f9eb;\n}\n</style>\n'],sourceRoot:""}]);const r=s},842:(n,e,t)=>{t.r(e),t.d(e,{default:()=>u});const l={props:{id:{type:Number}},data:function(){return{form:{}}},methods:{getData:function(){var n=this;axios.get("/api/admin/contact-order/"+this.id).then((function(e){n.form=e.data}))}},mounted:function(){this.getData()}};var a=t(51900);const o={components:{show:(0,a.Z)(l,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",[t("div",{staticClass:"mb-2"},[t("label",[n._v("Имя:")]),n._v(" "+n._s(n.form.name)+"\n    ")]),n._v(" "),t("div",{staticClass:"mb-2"},[t("label",[n._v("Телефон:")]),n._v(" "+n._s(n.form.phone)+"\n    ")]),n._v(" "),t("div",{staticClass:"mb-2"},[t("label",[n._v("Комментарий:")]),t("br"),n._v(" "+n._s(n.form.comment)+"\n    ")])])}),[],!1,null,null,null).exports},data:function(){return{CanAccess:'Просмотр "Заявки"',contacts:[],dialogVisible:!1,currentId:null,tableProps:{"row-class-name":function(n){return 1===n.row.status?"warning-row":""}}}},methods:{getContacts:function(){var n=this;axios.get("/api/admin/contact-order").then((function(e){n.contacts=e.data}))},handleShow:function(n){this.currentId=n,this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1,this.currentId=null,this.getContacts()}},mounted:function(){this.getContacts()}};var s=t(93379),r=t.n(s),i=t(3223),c={insert:"head",singleton:!1};r()(i.Z,c);i.Z.locals;const u=(0,a.Z)(o,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",[t("data-tables",{attrs:{data:n.contacts,"table-props":n.tableProps}},[t("el-table-column",{attrs:{type:"index",label:"№"}}),n._v(" "),t("el-table-column",{attrs:{prop:"order_type",label:"Тип заявки"}}),n._v(" "),t("el-table-column",{attrs:{label:"Имя",prop:"name",sortable:""}}),n._v(" "),t("el-table-column",{attrs:{label:"Телефон",prop:"phone",sortable:""}}),n._v(" "),t("el-table-column",{attrs:{label:"Статус",prop:"status_title",sortable:""}}),n._v(" "),t("el-table-column",{attrs:{label:"Дата",prop:"created_at",sortable:""}}),n._v(" "),t("el-table-column",{attrs:{label:"Действия"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return n.handleShow(e.row.id)}}},[n._v("Подробнее")])]}}])})],1),n._v(" "),t("el-dialog",{attrs:{title:"Заявка на консультацию",visible:n.dialogVisible,width:"90%","before-close":n.handleClose},on:{"update:visible":function(e){n.dialogVisible=e}}},[n.dialogVisible?t("show",{attrs:{id:n.currentId}}):n._e()],1)],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=842.f431bd.js.map